<?xml version="1.0" encoding="UTF-8"?>
<svg  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="-42.8202042942663, -49.9999999999999, 513.842451531196, 600" xmlns:go="http://purl.org/svgmap/profile"  xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:dc="http://purl.org/dc/elements/1.1/" property="id,type,latitude,longitude,title,address,spec" >
<script>

var csrc, src;



csrc =
[
{url:'place/Japan/Fukushima/Sukagawa',title:'Sukagawa',x:140.38333,y:37.28333},
{url:'place/Japan/Hokkaido/Asahikawa',title:'Asahikawa',x:142.37028,y:43.76778},
{url:'place/Japan/Hokkaido/Otrada',title:'Otrada',x:145.86454,y:44.06832},
{url:'place/Japan/Hokkaido/Sapporo',title:'Sapporo',x:141.34694,y:43.06417},
{url:'place/Japan/Aomori/Aomori',title:'Aomori',x:140.74,y:40.82444},
{url:'place/Japan/Hokkaido/Kushiro',title:'Kushiro',x:144.37472,y:42.975},
{url:'place/Japan/Hokkaido/Hakodate',title:'Hakodate',x:140.73667,y:41.77583},
{url:'place/Japan/Yamagata/Yamagata-shi',title:'Yamagata-shi',x:140.36333,y:38.24056},
{url:'place/Japan/Iwate/Morioka',title:'Morioka',x:141.1525,y:39.70361},
{url:'place/Japan/Yamagata/Sakata',title:'Sakata',x:139.855,y:38.91667},
{url:'place/Japan/Akita/Ōdate',title:'Ōdate',x:140.55756,y:40.27178},
{url:'place/Japan/Tokyo/Tokyo',title:'Tokyo',x:139.69171,y:35.6895},
{url:'place/Japan/Tochigi/Utsunomiya',title:'Utsunomiya',x:139.88361,y:36.56583},
{url:'place/Japan/Toyama/Toyama-shi',title:'Toyama-shi',x:137.21139,y:36.69528},
{url:'place/Japan/Tottori/Tottori',title:'Tottori',x:134.23333,y:35.5},
{url:'place/Japan/Niigata/Niigata',title:'Niigata',x:139.02361,y:37.90222},
{url:'place/Japan/Aichi/Nagoya',title:'Nagoya',x:136.90641,y:35.18147},
{url:'place/Japan/Fukui/Fukui-shi',title:'Fukui-shi',x:136.22257,y:36.06443},
{url:'place/Japan/Yamagata/Tsuruoka',title:'Tsuruoka',x:139.82167,y:38.72167},
{url:'place/Japan/Shizuoka/Numazu',title:'Numazu',x:138.86667,y:35.1},
{url:'place/Japan/Akita/Yokotemachi',title:'Yokotemachi',x:140.55034,y:39.31691},
{url:'place/Japan/Ishikawa/Nishimura',title:'Nishimura',x:136.91725,y:37.84727},
{url:'place/Japan/Osaka/Sakai',title:'Sakai',x:135.46667,y:34.58333},
{url:'place/Japan/Fukuoka/Kitakyushu',title:'Kitakyushu',x:130.83333,y:33.83333},
{url:'place/Japan/Shizuoka/Hamamatsu',title:'Hamamatsu',x:137.73333,y:34.7},
{url:'place/Japan/Saga/Saga-shi',title:'Saga-shi',x:130.2988,y:33.24932},
{url:'place/Japan/Kochi/Kōchi-shi',title:'Kōchi-shi',x:133.53111,y:33.55972},
{url:'place/Japan/Hiroshima/Hiroshima',title:'Hiroshima',x:132.45937,y:34.39627},
{url:'place/Japan/Gifu/Gifu',title:'Gifu',x:136.76039,y:35.42291},
{url:'place/Japan/Kumamoto/Yatsushiro',title:'Yatsushiro',x:130.6,y:32.5},
{url:'place/Japan/Wakayama/Tanabe',title:'Tanabe',x:135.36667,y:33.73333},
{url:'place/Japan/Shimane/Ōdachō-ōda',title:'Ōdachō-ōda',x:132.50846,y:35.19025},
{url:'place/Japan/Kochi/Sukumo',title:'Sukumo',x:132.73333,y:32.93333},
{url:'place/Japan/Miyazaki/Miyazaki-shi',title:'Miyazaki-shi',x:131.42389,y:31.91111},
{url:'place/Japan/Oita/Saiki',title:'Saiki',x:131.9,y:32.95},
{url:'place/Japan/Nagasaki/Nagasaki',title:'Nagasaki',x:129.87361,y:32.74472},
{url:'place/Japan/Kagoshima/Naze',title:'Naze',x:129.48333,y:28.36667},
{url:'place/Japan/Okinawa/Naha',title:'Naha',x:127.68111,y:26.2125},
{url:'place/Japan/Shizuoka/Shizuoka',title:'Shizuoka',x:138.38306,y:34.97694},
{url:'place/Japan/Kyoto/Yawata',title:'Yawata',x:135.7027,y:34.87009},
{url:'place/Japan/Miyagi/Tomiya',title:'Tomiya',x:140.88611,y:38.39306},
{url:'place/Japan/Niigata/Nagaoka',title:'Nagaoka',x:138.85,y:37.45},
{url:'place/Japan/Yamanashi/Kofu',title:'Kofu',x:138.56833,y:35.66389},
{url:'place/Japan/Aomori/Mutsu',title:'Mutsu',x:141.21694,y:41.28944}
];

console.log(src);
console.log(csrc);
var pois = [];

onload=function(){
	if ( !csrc ){
		for ( var i = 0 ; i < src.length ; i++ ){
			var oneResp = src[i];
			for ( var j = 0 ; j < oneResp.features.length ; j++ ){
				var oneFeature = oneResp.features[j];
				var oneGeom = oneFeature.geometry;
				var oneProp = oneFeature.properties;
				var title = oneProp.title;
				var url = oneProp.url;
				var pointCoord = oneGeom.coordinates;
				console.log( title,pointCoord,url);
				if ( !pois[url]){
					console.log( "add",title);
					pois[url] = {
						title:title,
						coordinates:pointCoord
					}
				} else {
					console.log("dpl:",title);
				}
			}
		}
	} else {
		for ( var i = 0 ; i < csrc.length ; i++ ){
			var poi = csrc[i];
			pois[poi.url] = {
				title:poi.title,
				coordinates:[poi.x,poi.y]
			}
		}
	}

	console.log( pois );

	for ( var key in pois ){
		var poi = pois[key];
		console.log ("{url:'"+key+"',title:'"+poi.title+"',x:"+ poi.coordinates[0]+",y:"+poi.coordinates[1]+"},");
		var use = document.createElement("use");
		use.setAttribute("transform","ref(svg,"+(poi.coordinates[0]*100)+","+(-poi.coordinates[1]*100)+")");
		use.setAttribute("x","0");
		use.setAttribute("y","0");
		use.setAttribute("xlink:href","#syl0");
		use.setAttribute("xlink:title",poi.title);
		
		var anc = document.createElement("a");
		anc.setAttribute("xlink:href", "https://www.yr.no/"+key);
		anc.setAttribute("target", "null" );
		anc.appendChild(use);
		document.getElementsByTagName("svg")[0].appendChild(anc);
	}
}

</script>

 <defs>
  <g id="syl0" > 
   <image xlink:href="mappin.png" preserveAspectRatio="none" x="-8" y="-25" width="19" height="27"/>
  </g>
 </defs>
 
<globalCoordinateSystem srsName="http://purl.org/crs/84" transform="matrix(100,0,0,-100,0,0)" />

</svg>
